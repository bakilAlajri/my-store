{% load static %}
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ุงูุณูุฉ</title>

    <!-- Bootstrap RTL -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- ููู CSS ุงูุฎุงุต ุจู -->
    <link rel="stylesheet" href="{% static 'pages/css/style.css' %}">
</head>

<body class="bg-light">

<!-- ๐ต Navbar ููุญุฏุฉ -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="/">๐ต MyStore</a>

        <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="{% url 'products' %}">ุงูููุชุฌุงุช</a></li>
            <li class="nav-item"><a class="nav-link active" href="{% url 'cart' %}">ุงูุณูุฉ ๐</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'login' %}">ุชุณุฌูู ุงูุฏุฎูู</a></li>
        </ul>
    </div>
</nav>
<!-- ููุงูุฉ ุงููุงูุจุงุฑ -->

<div class="container py-5">

<h2 class="mb-4 fw-bold">๐ ุณูุฉ ุงููุดุชุฑูุงุช</h2>

{% if cart_items %}
<table class="table table-bordered table-hover shadow-sm bg-white">
    <thead class="table-primary">
        <tr>
            <th>ุงูููุชุฌ</th>
            <th>ุงููููุฉ</th>
            <th>ุงูุณุนุฑ</th>
            <th>ุงูุฅุฌูุงูู</th>
            <th>ุญุฐู</th>
        </tr>
    </thead>

    <tbody>
        {% for item in cart_items %}
        <tr>
            <td class="fw-bold">{{ item.product.name }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.product.price }} ุฑ.ุณ</td>
            <td class="text-success fw-bold">{{ item.total }} ุฑ.ุณ</td>
            <td>
                <a href="{% url 'remove_from_cart' item.product.id %}" class="btn btn-danger btn-sm">
                    <i class="fa fa-trash"></i>
                    ุญุฐู
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h3 class="fw-bold mt-4">๐ฐ ุงููุฌููุน ุงูููู: <span class="text-primary">{{ total_price }} ุฑ.ุณ</span></h3>

<a href="{% url 'checkout' %}" class="btn btn-success btn-lg mt-3 me-2">
    <i class="fa fa-credit-card"></i> ุฅููุงู ุงูุฏูุน
</a>

<a href="{% url 'clear_cart' %}" class="btn btn-danger btn-lg mt-3">
    <i class="fa fa-trash"></i> ุฅูุฑุงุบ ุงูุณูุฉ
</a>

{% else %}
<div class="alert alert-warning text-center fs-5 py-3 shadow">
    ุงูุณูุฉ ูุงุฑุบุฉ ุญุงููุงู ๐ข
</div>
{% endif %}

</div>

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script src="{% static 'pages/js/main.js' %}"></script>
<script src="{% static 'pages/js/cart.js' %}"></script>
<script src="{% static 'pages/js/product-detail.js' %}"></script>
<script src="{% static 'pages/js/navigation.js' %}"></script>

</body>
</html>
